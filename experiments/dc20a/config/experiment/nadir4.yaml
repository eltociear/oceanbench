name: "nadir4"
data:
  _target_: "xarray.open_mfdataset"
  paths:
    - ${data.jason}
    - ${data.envisat}
    - ${data.geosat}
    - ${data.topex_poseidon}
  combine: "nested"
  concat_dim: "time"
  decode_times: True
  engine: "netcdf4"
  preprocess:
    _target_: "oceanbench._src.data.pipe"
    _partial_: True
    fns:
      # # RENAME
      - {_target_: "xarray.Dataset.rename", name_dict: {"ssh_model": "ssh"}, _partial_: True}
      # VALIDATE COORDINATES
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_latlon", _partial_: True}
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_time", _partial_: True}
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_ssh", _partial_: True}
      # SELECT REGION | TIME
      - "${preprocess.select_time}"
      - {_target_: "xarray.Dataset.compute", _partial_: True}
      - "${preprocess.select_lon_where}"
      - "${preprocess.select_lat_where}"
      - {_target_: "xarray.Dataset.sortby", variables: "time", _partial_: True}
