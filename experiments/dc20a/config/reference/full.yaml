name: "natl60"
data:
  _target_: "xarray.open_mfdataset"
  paths: "/gpfswork/rech/yrf/commun/data_challenges/dc20a_osse/test/dc_ref/NATL60-CJM165_GULFSTREAM*"
  combine: "nested"
  concat_dim: "time"
  decode_times: True
  engine: "netcdf4"
  preprocess:
    _target_: "oceanbench._src.data.pipe"
    _partial_: True
    fns:
      # RENAME
      - {_target_: "xarray.Dataset.rename", name_dict: {"sossheig": "ssh"}, _partial_: True}
      # VALIDATE COORDINATES
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_latlon", _partial_: True}
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_time", _partial_: True}
      - {_target_: "oceanbench._src.geoprocessing.validation.decode_cf_time", units: "seconds since 2012-10-01", _partial_: True}
      - {_target_: "oceanbench._src.geoprocessing.validation.validate_ssh", _partial_: True}
      # RESAMPLE - Daily | Aggregate Mean
      - ${evaluation.resample_method}
      - ${evaluation.resample_aggregate}
      # SELECT REGION | TIME
      - {_target_: "xarray.Dataset.sel", indexers: "${domain}", _partial_: True}
      - {_target_: "xarray.Dataset.sortby", variables: "time", _partial_: True}
