regrid:
  _target_: "oceanbench._src.geoprocessing.gridding.coord_based_to_grid"
  _partial_: True
  target_grid_ds: ${grid.target_grid}

target_grid:
  _target_: "xarray.Dataset"
  data_vars:
    lon: 
      _target_: "numpy.arange"
      start: "${domain.lon.min_val}"
      stop: "${domain.lon.max_val}"
      step: ${grid.resolution.lon}
    lat:
      _target_: "numpy.arange"
      start: "${domain.lat.min_val}"
      stop: "${domain.lat.max_val}"
      step: ${grid.resolution.lat}
    time:
      _target_: "numpy.arange"
      start: 
        _target_: "pandas.to_datetime"
        arg: "${domain.time.min_val}"
      stop: 
        _target_: "pandas.to_datetime"
        arg: "${domain.time.max_val}"
      step: 
        _target_: "pandas.to_timedelta"
        arg: ${grid.resolution.time.freq}
        unit: ${grid.resolution.time.unit}

resolution:
  lon: 0.05
  lat: 0.05
  time:
    freq: 12
    unit: "hour"